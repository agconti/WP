<!-- Hannah Murray - Warby Parker Exercise -->

<!DOCTYPE html>
<html>
<head>
	<title>WP</title>
	<link rel="stylesheet" href="css/styles.css">
	<script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
</head>
<body>
	<div id="lightbox">
		<div id="content">
			<div id="image">
				<img src="img/kitteh.jpg" alt="kitteh" class="kitteh">
				<img src="img/kitteh.jpg" alt="kitteh" class="kitteh">
				<img src="img/kitteh.jpg" alt="kitteh" class="kitteh">
				<img src="img/kitteh.jpg" alt="kitteh" class="kitteh">
				<img src="img/kitteh.jpg" alt="kitteh" class="kitteh">
				<img src="img/kitteh.jpg" alt="kitteh" class="kitteh">
			</div>
			<div id="passage">
				The greatest ride in my life was about to come up, a truck, with a flatboard at the back, with about six or seven boys sprawled out on it, and the drivers, two young blond farmers from Minnesota, were picking up every single soul they found on that road-the most smiling, cheerful couple of handsome bumpkins you could ever wish to see, both wearing cotton shirts and overalls, nothing else; both thick-wristed and earnest, with broad howareyou smiles for anybody and anything that came across their path. I ran up, said "Is there room?" They said, "Sure, hop on, 'sroom for everybody."
			</div>
			<div id="author">
				Jack Kerouac<br>
				On the Road
			</div>
		</div>
	</div>
</div>
<script>
(function($) {
	// a simple jquery plugin that turns a target to turn into a lightbox.
    $.fn.lightBoxPlugin = function() {
		var lightBoxPlugin = {
			$lightBox: $(this),
			$scrollDiv: $('#content'),
			$document: $(document),
			lastScroll: 0,
			maxWidth: 800,
			minWidth: 800 / 3,
			scrollSize: function () {
				$scrollDiv = this.$scrollDiv;
				var scrollposition = this.$document.scrollTop();
				var divWidth = $scrollDiv.width();
				var divHeight = $scrollDiv.height();

				// keep minimum width at 1/3 of max width
				// decrease width by 15px on scroll down
				if (scrollposition > this.lastScroll && divWidth > this.minWidth){
					divWidth -= 15;
				}
				// keep maximum width at 800px
				// increase width by 15px on scroll down
				else if(divWidth < this.maxWidth) {
						divWidth += 15;
				}
				$scrollDiv.css({width:divWidth,});
				this.$lastScroll = scrollposition;
				lightBoxPlugin.verticallyAlign(lightBoxPlugin.$scrollDiv);
			},
			verticallyAlign: function($el){
				$el.css({
					top : ($(window).height() - $el.outerHeight()) / 2
				});
			}
		};

        lightBoxPlugin.$lightBox.show();
		lightBoxPlugin.verticallyAlign(lightBoxPlugin.$scrollDiv);

		$(window).resize(function() {
			lightBoxPlugin.verticallyAlign(lightBoxPlugin.$scrollDiv);
		});
		$(document).scroll(function(event){
			lightBoxPlugin.scrollSize();
		});
	}
}(jQuery));

$(function() {
	// use the lightBoxPlugin on our #lightbox.
	$('#lightbox').lightBoxPlugin();
});
</script>
</body>
</html>
